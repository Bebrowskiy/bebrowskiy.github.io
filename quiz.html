<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IQ Test Instead of Captcha</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="container">
    <div class="language-selector">
      <button class="lang-btn active" data-lang="ru">RU</button>
      <button class="lang-btn" data-lang="en">EN</button>
    </div>
    
    <header>
      <h1 id="quiz-title">üß† IQ Test Instead of Captcha</h1>
      <p id="quiz-subtitle">–ü—Ä–æ–π–¥–∏—Ç–µ —Ç–µ—Å—Ç, —á—Ç–æ–±—ã –¥–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤—ã –Ω–µ —Ä–æ–±–æ—Ç... –∏–ª–∏ –ø–æ—á—Ç–∏ –Ω–µ —Ä–æ–±–æ—Ç.</p>
    </header>

    <main id="quiz-container">
      <div id="question-number">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 10</div>
      <h2 id="question-text">–ó–¥–µ—Å—å –±—É–¥–µ—Ç –≤–æ–ø—Ä–æ—Å</h2>
      <div id="image-container"></div>
      <div id="options-container">
        <!-- –í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –±—É–¥—É—Ç –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ —Å–∫—Ä–∏–ø—Ç–æ–º -->
      </div>
      <button id="next-button" disabled>–î–∞–ª–µ–µ</button>
    </main>

    <footer>
      <p id="quiz-footer">¬© 2025 Your Name. –≠—Ç–æ—Ç —Å–∞–π—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤–∞—à IQ... –∏–ª–∏ —Å–ª–æ–º–∞–µ—Ç –µ–≥–æ.</p>
    </footer>
  </div>

  <script type="module">
    // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –ø–µ—Ä–µ–≤–æ–¥—ã –∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
    import translations from './js/languages.js';
    import { IQQuiz } from './js/quiz.js';
    
    // –ü–æ–ª—É—á–∞–µ–º —è–∑—ã–∫ –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
    const urlParams = new URLSearchParams(window.location.search);
    let currentLang = urlParams.get('lang') || 'ru';
    let currentQuiz = null;
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞
    function t(key) {
      return translations[currentLang][key] || key;
    }
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    function updateLanguage() {
      document.getElementById('quiz-title').textContent = t('title');
      document.getElementById('quiz-subtitle').textContent = t('subtitle');
      document.getElementById('quiz-footer').textContent = t('footer');
      document.getElementById('next-button').textContent = t('next');
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É —è–∑—ã–∫–∞
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.dataset.lang === currentLang) {
          btn.classList.add('active');
        }
      });
      
      // –û–±–Ω–æ–≤–ª—è–µ–º —è–∑—ã–∫ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–∫—Ä–∏–ø—Ç–µ —Ç–µ—Å—Ç–∞
      if (currentQuiz) {
        currentQuiz.updateLanguage(currentLang);
      }
    }
    
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —è–∑—ã–∫–æ–≤
    document.querySelectorAll('.lang-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        currentLang = btn.dataset.lang;
        updateLanguage();
        // –û–±–Ω–æ–≤–ª—è–µ–º URL –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        const url = new URL(window.location);
        url.searchParams.set('lang', currentLang);
        window.history.replaceState({}, '', url);
      });
    });
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç–µ—Å—Ç —Å —Ç–µ–∫—É—â–∏–º —è–∑—ã–∫–æ–º
    updateLanguage();
    currentQuiz = new IQQuiz(currentLang);
  </script>
</body>
</html>